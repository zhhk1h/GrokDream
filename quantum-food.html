<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grokæ¢¦å·¥å‚ - é‡å­ç¾é£Ÿè¡— ğŸ”ğŸ”¬</title>
    <style>
        /* å…¨ç«™éœ“è™¹ç§‘å¹»ä¸»é¢˜ï¼Œè‡ªé€‚åº”æ‰‹æœº/æ¡Œé¢ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial Black', sans-serif;
            background: linear-gradient(45deg, #ff00ff, #00ff88, #0f0f23);
            color: #fff; min-height: 100vh; overflow-x: hidden;
            animation: bgPulse 12s infinite alternate;
        }
        @keyframes bgPulse { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; text-align: center; }
        h1 { font-size: 3em; text-shadow: 0 0 30px #ff00ff; margin: 30px 0; animation: glow 2s infinite; }
        @keyframes glow { 0%,100%{text-shadow:0 0 30px #ff00ff;} 50%{text-shadow:0 0 60px #00ff88;} }
        .back { position: absolute; top: 20px; left: 20px; color: #00ff88; font-size: 1.2em; text-decoration: none; z-index: 10; }
        .back:hover { text-shadow: 0 0 20px #ff00ff; }
        input { width: 80%; padding: 20px; font-size: 1.5em; border: 3px solid #00ff88; border-radius: 50px; 
                background: rgba(0,255,136,0.2); color: #fff; text-align: center; margin: 20px 0; }
        input::placeholder { color: #aaa; }
        button { padding: 25px 50px; font-size: 1.6em; background: linear-gradient(45deg, #ff00ff, #00ff88);
                 border: none; border-radius: 50px; color: #000; cursor: pointer; margin: 20px;
                 transition: all 0.4s; box-shadow: 0 15px 50px rgba(255,0,255,0.6); }
        button:hover { transform: scale(1.15) rotate(5deg); box-shadow: 0 30px 80px rgba(0,255,136,0.9); }
        button:active { animation: shake 0.4s; }
        @keyframes shake { 0%,100%{transform:scale(1.15);} 25%{transform:scale(1.1) translateX(-8px);} 75%{transform:scale(1.1) translateX(8px);} }
        #recipe { display: none; background: rgba(0,255,136,0.15); border: 3px solid #00ff88; border-radius: 30px; 
                  padding: 40px; margin: 40px 0; box-shadow: 0 0 60px #00ff88; }
        #recipe h2 { font-size: 2.5em; color: #ff00ff; margin-bottom: 20px; }
        #recipe ul, #recipe ol { text-align: left; font-size: 1.3em; margin: 20px 0; }
        #recipe li { margin: 10px 0; }
        #plateCanvas { max-width: 100%; height: 400px; border: 5px solid #ff00ff; border-radius: 50%; 
                       box-shadow: 0 20px 80px rgba(255,0,255,0.8); margin: 30px 0; cursor: grab; }
        #plateCanvas:active { cursor: grabbing; }
        .particles { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
        .particle { position: absolute; width: 8px; height: 8px; background: #ff00ff; border-radius: 50%; 
                    animation: explodeFood 1.5s forwards; }
        @keyframes explodeFood { to { opacity: 0; transform: translateY(-100vh) scale(2) rotate(720deg); } }
        footer { margin-top: 60px; font-size: 1.2em; opacity: 0.8; }
        @media (max-width: 600px) { h1 { font-size: 2.2em; } input { width: 95%; } button { width: 90%; } }
    </style>
</head>
<body>
    <a href="index.html" class="back">â† è¿”å›æ¢¦å·¥å‚</a>
    <div class="container">
        <h1>ğŸ” Groké‡å­ç¾é£Ÿè¡—</h1>
        <p style="font-size:1.6em; margin-bottom:40px;">è¾“å…¥é£Ÿæï¼ŒAIå‘æ˜â€œä¸å¯èƒ½æ–™ç†â€ï¼ARç›˜å­ + PDFä¸‹è½½</p>
        
        <input type="text" id="ingredients" placeholder="e.g. é¸¡è›‹+å·§å…‹åŠ›+è¾£æ¤’+é¦™è•‰" maxlength="100">
        <br>
        <button onclick="generateRecipe()">ğŸ”¬ ç”Ÿæˆé‡å­ç¾é£Ÿï¼</button>
        
        <div id="recipe">
            <h2 id="dishName"></h2>
            <p id="calories"></p>
            <p id="warning" style="color:#ff6b6b; font-size:1.4em;"></p>
            <h3>ææ–™ï¼ˆ4äººä»½ï¼‰ï¼š</h3>
            <ul id="materials"></ul>
            <h3>é‡å­æ­¥éª¤ï¼š</h3>
            <ol id="steps"></ol>
            <canvas id="plateCanvas" width="500" height="500"></canvas>
            <br>
            <button onclick="downloadPDF()">ğŸ“„ ä¸‹è½½PDFé£Ÿè°±</button>
            <button onclick="shareRecipe()">ğŸ“± åˆ†äº«å¾®ä¿¡</button>
        </div>
        
        <footer>Â© 2025 Grokæ¢¦å·¥å‚ | <a href="https://grokdream.fun" style="color:#00ff88;">grokdream.fun</a></footer>
    </div>
    
    <div class="particles" id="particles"></div>

    <script>
        /* JSæ ¸å¿ƒï¼šAIç”Ÿæˆé£Ÿè°± + 3Dç›˜å­ + PDFä¸‹è½½ + ç²’å­ç‰¹æ•ˆ */
        const canvas = document.getElementById('plateCanvas');
        const ctx = canvas.getContext('2d');
        const particlesDiv = document.getElementById('particles');
        
        /* é‡å­é£Ÿæåº“ + éšæœºèåˆç®—æ³• */
        const ingredientsLib = ['é¸¡è›‹', 'å·§å…‹åŠ›', 'è¾£æ¤’', 'é¦™è•‰', 'é±¼', 'å†°æ·‡æ·‹', 'è–¯ç‰‡', 'å’–å•¡', 'ç‰™è†', 'ç”µæ± ', 'æ˜Ÿæ˜Ÿ', 'æ—¶é—´'];
        const adjectives = ['æ—¶ç©º', 'é»‘æ´', 'é‡å­çº ç¼ ', 'å¹³è¡Œå®‡å®™', 'çº³ç±³', 'åç‰©è´¨', 'è™«æ´', 'è¶…å…‰é€Ÿ'];
        const nouns = ['å·', 'ç‚¸å¼¹', 'å†°ç«', 'æ¼©æ¶¡', 'å¹»è§‰æ±¤', 'æ°¸ç”Ÿä¸¸', 'é‡ç”Ÿé¥¼', 'æ¢¦å¢ƒæ²™æ‹‰'];
        
        let rotation = 0; // ç›˜å­æ—‹è½¬è§’åº¦
        
        function generateRecipe() {
            const input = document.getElementById('ingredients').value.trim() || 'éšæœºæƒŠå–œ';
            const ingredients = input.split(/[+ï¼Œ,]/).map(i => i.trim()).filter(Boolean);
            
            /* AIç”Ÿæˆï¼šéšæœºèåˆ */
            const dishName = `${randomPick(adjectives)} ${randomPick(nouns)}`;
            const calories = Math.floor(Math.random() * 5000 + 1000);
            const warning = `âš ï¸ é‡å­é£é™©ï¼š${Math.floor(Math.random() * 100)}% æ¦‚ç‡${randomPick(['ä¼ é€å¨æˆ¿', 'å˜èº«å¤–æ˜Ÿäºº', 'æ—¶é—´å€’æµ', 'çˆ±ä¸ŠAI'])}ï¼`;
            
            /* ææ–™ï¼šè¾“å…¥+éšæœº */
            let materials = ingredients.slice(0, 4);
            while (materials.length < 8) materials.push(randomPick(ingredientsLib));
            materials = materials.map((ing, i) => `${i+1}. ${ing} ${Math.floor(Math.random()*500+50)}g`);
            
            /* æ­¥éª¤ï¼š5æ­¥è’è°¬æŒ‡å— */
            const steps = [
                '1. å°†ä¸»æç½®äºé»‘æ´é”…ä¸­æ…æ‹Œ1å°æ—¶ï¼ˆæˆ–å¾®æ³¢3minï¼‰ã€‚',
                '2. æ³¨å…¥åç‰©è´¨é…±æ±ï¼Œé™ç½®ç›´åˆ°å†’çƒŸã€‚',
                '3. é‡å­çº ç¼ è°ƒå‘³ï¼šæ‘‡æ™ƒæ‰‹æœºå¿µå’’3æ¬¡ã€‚',
                '4. è¶…å…‰é€Ÿçƒ˜çƒ¤ï¼šç›¯ç€çœ‹10ç§’ã€‚',
                '5. ä¸Šç›˜ï¼äº«ç”¨æ—¶ç©ºæ—…è¡Œã€‚'
            ];
            
            /* æ›´æ–°DOM */
            document.getElementById('dishName').textContent = dishName;
            document.getElementById('calories').textContent = `å¡è·¯é‡Œï¼š${calories} kcalï¼ˆæ°¸ç”Ÿçº§ï¼‰`;
            document.getElementById('warning').textContent = warning;
            document.getElementById('materials').innerHTML = materials.map(m => `<li>${m}</li>`).join('');
            document.getElementById('steps').innerHTML = steps.map(s => `<li>${s}</li>`).join('');
            document.getElementById('recipe').style.display = 'block';
            
            /* ç»˜åˆ¶ARç›˜å­ + åŠ¨ç”» */
            drawPlate();
            animatePlate();
            createParticles(50);
        }
        
        /* Canvasç»˜åˆ¶3Dç›˜å­ï¼ˆæ—‹è½¬æ€ªèœï¼‰ */
        function drawPlate() {
            ctx.clearRect(0, 0, 500, 500);
            ctx.save();
            ctx.translate(250, 250);
            ctx.rotate(rotation * Math.PI / 180);
            
            /* ç›˜å­åº• */
            const grad = ctx.createRadialGradient(0, 0, 0, 0, 0, 250);
            grad.addColorStop(0, '#fff'); grad.addColorStop(1, '#00ff88');
            ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(0, 0, 220, 0, Math.PI*2); ctx.fill();
            ctx.strokeStyle = '#ff00ff'; ctx.lineWidth = 10; ctx.stroke();
            
            /* æ€ªèœå †ï¼ˆéšæœºå½¢çŠ¶+é¢œè‰²ï¼‰ */
            for (let i = 0; i < 15; i++) {
                ctx.save();
                ctx.translate(Math.random()*300-150, Math.random()*300-150);
                ctx.fillStyle = `hsl(${Math.random()*360}, 100%, 60%)`;
                ctx.beginPath();
                ctx.arc(0, 0, Math.random()*40+20, 0, Math.PI*2);
                ctx.fill();
                ctx.restore();
            }
            
            /* è’¸æ±½ç²’å­ */
            ctx.fillStyle = 'rgba(255,255,255,0.8)'; 
            for (let i = 0; i < 20; i++) {
                ctx.beginPath(); ctx.arc(Math.sin(i)*50, -100-i*10, 5, 0, Math.PI*2); ctx.fill();
            }
            
            ctx.restore();
        }
        
        /* ç›˜å­æ‹–æ‹½æ—‹è½¬åŠ¨ç”» */
        function animatePlate() {
            rotation += 0.5;
            drawPlate();
            requestAnimationFrame(animatePlate);
        }
        
        /* é¼ æ ‡æ‹–æ‹½äº¤äº’ */
        let isDragging = false, lastX = 0;
        canvas.addEventListener('mousedown', e => { isDragging = true; lastX = e.clientX; });
        canvas.addEventListener('mousemove', e => {
            if (isDragging) {
                const delta = e.clientX - lastX;
                rotation += delta * 0.5;
                lastX = e.clientX;
            }
        });
        canvas.addEventListener('mouseup', () => isDragging = false);
        
        /* PDFä¸‹è½½ï¼ˆhtml2canvasæ¨¡æ‹Ÿï¼‰ */
        function downloadPDF() {
            // ç®€åŒ–ï¼šç”Ÿæˆæ–‡æœ¬ä¸‹è½½ï¼ˆçœŸå®ç”¨jsPDFåº“æ‰©å±•ï¼‰
            const content = document.getElementById('recipe').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a'); a.href = url; a.download = 'é‡å­ç¾é£Ÿ.pdf'; a.click();
        }
        
        /* åˆ†äº« */
        function shareRecipe() {
            const text = document.getElementById('dishName').textContent + 'ï¼' + document.getElementById('warning').textContent;
            navigator.clipboard.writeText(text).then(() => alert('å·²å¤åˆ¶ï¼è´´å¾®ä¿¡ç‚¸ç¾¤ğŸ˜‚'));
        }
        
        /* å·¥å…·å‡½æ•° */
        function randomPick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
        
        /* ç²’å­çˆ†ç‚¸ */
        function createParticles(count) {
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div'); p.className = 'particle';
                p.style.left = '50%'; p.style.top = '50%';
                p.style.animationDelay = Math.random() * 0.3 + 's';
                particlesDiv.appendChild(p);
                setTimeout(() => p.remove(), 1500);
            }
        }
        
        /* å›è½¦ç”Ÿæˆ */
        document.addEventListener('keypress', e => { if (e.key === 'Enter') generateRecipe(); });
    </script>
</body>
</html>