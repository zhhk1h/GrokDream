<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grokæ¢¦å·¥å‚ - æç¬‘Memeå·¥å‚ ğŸ˜‚</title>
    <style>
        /* ç»Ÿä¸€éœ“è™¹ç§‘å¹»ä¸»é¢˜ï¼Œè‡ªé€‚åº” */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial Black', sans-serif;
            background: linear-gradient(45deg, #0f0f23, #1a1a3e, #2a1a5e);
            color: #fff; min-height: 100vh; overflow-x: hidden;
            animation: bgPulse 10s infinite alternate;
        }
        @keyframes bgPulse { 0% { background-position: 0% 50%; } 100% { background-position: 100% 50%; } }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; text-align: center; }
        h1 { font-size: 3em; text-shadow: 0 0 20px #00ff88; margin: 30px 0; animation: glow 2s infinite; }
        @keyframes glow { 0%,100%{text-shadow:0 0 20px #00ff88;} 50%{text-shadow:0 0 40px #00ff88;} }
        .back { position: absolute; top: 20px; left: 20px; color: #00ff88; font-size: 1.2em; text-decoration: none; }
        .back:hover { text-shadow: 0 0 20px #ff00ff; }
        .input-group { margin: 30px 0; }
        input { width: 45%; padding: 15px; font-size: 1.2em; border: 2px solid #00ff88; border-radius: 10px; 
                background: rgba(0,255,136,0.1); color: #fff; text-align: center; margin: 0 2.5%; }
        input::placeholder { color: #aaa; }
        select { padding: 15px; font-size: 1.2em; border: 2px solid #00ff88; border-radius: 10px; 
                 background: rgba(0,255,136,0.1); color: #fff; margin: 20px; width: 90%; max-width: 500px; }
        button { padding: 20px 40px; font-size: 1.5em; background: linear-gradient(45deg, #ff00ff, #00ff88);
                 border: none; border-radius: 50px; color: #000; cursor: pointer; margin: 20px;
                 transition: all 0.3s; box-shadow: 0 10px 30px rgba(0,255,136,0.5); }
        button:hover { transform: scale(1.1); box-shadow: 0 20px 50px rgba(255,0,255,0.8); }
        button:active { transform: scale(0.95); animation: shake 0.5s; }
        @keyframes shake { 0%,100%{transform:translateX(0);} 25%{transform:translateX(-5px);} 75%{transform:translateX(5px);} }
        #memeCanvas { max-width: 100%; height: auto; border: 5px solid #00ff88; border-radius: 20px;
                       box-shadow: 0 20px 60px rgba(0,0,0,0.8); margin: 20px 0; display: none; }
        .particles { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1000; }
        .particle { position: absolute; width: 10px; height: 10px; background: #00ff88; border-radius: 50%;
                     pointer-events: none; animation: explode 1s forwards; }
        @keyframes explode { to { opacity: 0; transform: translateY(-100vh) scale(0); } }
        footer { margin-top: 50px; font-size: 1.2em; opacity: 0.8; }
        @media (max-width: 600px) { 
            h1 { font-size: 2em; } 
            input { width: 90%; display: block; margin: 10px auto; } 
            select { width: 95%; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back">â† è¿”å›æ¢¦å·¥å‚</a>
    <div class="container">
        <h1>ğŸ˜‚ Grokæç¬‘Memeå·¥å‚</h1>
        <p style="font-size:1.5em; margin-bottom:30px;">è¾“å…¥æ–‡å­—ï¼Œä¸€é”®ç”Ÿæˆçˆ†ç¬‘Memeï¼AIé©±åŠ¨ï¼Œæ‰‹æœºç§’åˆ†äº«</p>
        
        <div class="input-group">
            <input type="text" id="topText" placeholder="ä¸Šæ–‡å­— (e.g. Grokå¤ªç‰›)" maxlength="30">
            <input type="text" id="bottomText" placeholder="ä¸‹æ–‡å­— (e.g. äººç±»å“­æ™•)" maxlength="30">
        </div>
        
        <select id="template">
            <option value="0">ğŸ˜ ç”·å‹åˆ†å¿ƒ (Distracted Boyfriend)</option>
            <option value="1">ğŸ‘ æˆåŠŸå°å­ (Success Kid)</option>
            <option value="2">ğŸ¶ è¿™å°±è¡Œ (This is Fine)</option>
        </select>
        
        <button onclick="generateMeme()">ğŸš€ ç”ŸæˆMemeï¼</button>
        <button onclick="downloadMeme()" id="downloadBtn" style="display:none;">ğŸ’¾ ä¸‹è½½åˆ†äº«</button>
        
        <canvas id="memeCanvas" width="600" height="600"></canvas>
        
        <footer>Â© 2025 Grokæ¢¦å·¥å‚ | <a href="https://grokdream.fun" style="color:#00ff88;">grokdream.fun</a></footer>
    </div>
    
    <div class="particles" id="particles"></div>

    <script>
        /* JSæ ¸å¿ƒï¼šCanvaså®æ—¶ç»˜å›¾ç”ŸæˆMeme + ç²’å­çˆ†ç‚¸ + ä¸‹è½½ */
        const canvas = document.getElementById('memeCanvas');
        const ctx = canvas.getContext('2d');
        const particlesDiv = document.getElementById('particles');
        
        function generateMeme() {
            const topText = document.getElementById('topText').value.toUpperCase() || 'GROK å¤ªç‰›';
            const bottomText = document.getElementById('bottomText').value.toUpperCase() || 'äººç±»å“­æ™•';
            const templateIdx = parseInt(document.getElementById('template').value);
            
            /* æ¸…ç©ºç”»å¸ƒ */
            ctx.clearRect(0, 0, 600, 600);
            
            /* ç»˜åˆ¶æ¨¡æ¿èƒŒæ™¯ + äººç‰©ï¼ˆ3ç§Memeæ™ºèƒ½åˆ‡æ¢ï¼‰ */
            drawTemplate(ctx, templateIdx);
            
            /* å¤§é»‘è¾¹ç™½å­—ï¼šä¸Š/ä¸‹æ–‡å­— */
            ctx.fillStyle = '#000'; ctx.strokeStyle = '#fff'; ctx.lineWidth = 8;
            ctx.font = 'bold 60px Arial Black'; ctx.textAlign = 'center'; ctx.textBaseline = 'top';
            wrapText(ctx, topText, 300, 40, 550, 70);
            ctx.textBaseline = 'bottom';
            wrapText(ctx, bottomText, 300, 560, 550, 70);
            
            /* æ°´å° */
            ctx.fillStyle = '#00ff88'; ctx.font = 'bold 30px Arial'; ctx.textBaseline = 'middle';
            ctx.fillText('@grokdream.fun', 300, 580);
            
            canvas.style.display = 'block';
            document.getElementById('downloadBtn').style.display = 'inline-block';
            
            /* ç²’å­çˆ†ç‚¸ç‰¹æ•ˆï¼ */
            createParticles(30);
        }
        
        /* ç»˜åˆ¶3ç§Memeæ¨¡æ¿ï¼ˆçº¯Canvasï¼Œé›¶å›¾ç‰‡ä¾èµ–ï¼‰ */
        function drawTemplate(ctx, idx) {
            const gradient = ctx.createLinearGradient(0, 0, 600, 600);
            gradient.addColorStop(0, '#ff6b6b'); gradient.addColorStop(1, '#4ecdc4');
            ctx.fillStyle = gradient; ctx.fillRect(0, 0, 600, 600);
            
            if (idx === 0) { // ğŸ˜ ç”·å‹åˆ†å¿ƒ
                ctx.fillStyle = '#ffd93d'; ctx.beginPath(); ctx.arc(150, 250, 60, 0, Math.PI*2); ctx.fill(); // å¥³å‹å¤´
                ctx.fillRect(130, 310, 40, 80); // èº«
                ctx.fillStyle = '#ff69b4'; ctx.beginPath(); ctx.arc(300, 250, 70, 0, Math.PI*2); ctx.fill(); // è·¯äºº
                ctx.fillRect(280, 320, 40, 100);
                ctx.fillStyle = '#4169e1'; ctx.beginPath(); ctx.arc(450, 250, 65, 0, Math.PI*2); ctx.fill(); // ç”·ä¸»
                ctx.fillRect(430, 315, 40, 90);
            } else if (idx === 1) { // ğŸ‘ æˆåŠŸå°å­
                ctx.fillStyle = '#d2b48c'; ctx.beginPath(); ctx.arc(300, 350, 80, 0, Math.PI*2); ctx.fill(); // æ²™æ»©
                ctx.fillStyle = '#8b4513'; ctx.beginPath(); ctx.arc(300, 300, 120, 0, Math.PI*2); ctx.fill(); // æµ·
                ctx.fillStyle = '#ffd700'; ctx.beginPath(); ctx.arc(300, 200, 50, 0, Math.PI*2); ctx.fill(); // å¤´
                ctx.fillStyle = '#ff4500'; ctx.fillRect(280, 250, 40, 60); // èº«
                ctx.fillStyle = '#ffd700'; ctx.beginPath(); ctx.arc(260, 280, 15, 0, Math.PI*2); ctx.fill(); // æ‹³å¤´
            } else { // ğŸ¶ è¿™å°±è¡Œ
                ctx.fillStyle = '#deb887'; ctx.fillRect(100, 200, 400, 300); // æˆ¿é—´
                ctx.fillStyle = '#8b4513'; ctx.fillRect(150, 350, 300, 100); // ç«
                ctx.fillStyle = '#ffdbac'; ctx.beginPath(); ctx.arc(300, 250, 60, 0, Math.PI*2); ctx.fill(); // ç‹—å¤´
                ctx.fillStyle = '#8b7355'; ctx.fillRect(280, 310, 40, 80); // èº«
                ctx.fillStyle = '#4169e1'; ctx.fillRect(350, 320, 30, 50); // å’–å•¡æ¯
            }
            
            ctx.strokeStyle = '#fff'; ctx.lineWidth = 5; ctx.strokeRect(20, 20, 560, 560);
        }
        
        /* æ–‡å­—è‡ªåŠ¨æ¢è¡Œ */
        function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
            const words = text.split(' '); let line = ''; let lines = [];
            for (let w of words) {
                const test = line + w + ' '; const metrics = ctx.measureText(test);
                if (metrics.width > maxWidth && line !== '') { lines.push(line); line = w + ' '; } 
                else line = test;
            } lines.push(line);
            for (let i = 0; i < lines.length; i++) {
                ctx.strokeText(lines[i], x, y + i * lineHeight);
                ctx.fillText(lines[i], x, y + i * lineHeight);
            }
        }
        
        /* ä¸‹è½½PNG */
        function downloadMeme() {
            const link = document.createElement('a');
            link.download = 'grok-meme.png';
            link.href = canvas.toDataURL();
            link.click();
        }
        
        /* ç²’å­ç‰¹æ•ˆ */
        function createParticles(count) {
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div'); p.className = 'particle';
                p.style.left = Math.random() * 100 + 'vw';
                p.style.top = '100vh';
                p.style.animationDelay = Math.random() * 0.5 + 's';
                particlesDiv.appendChild(p);
                setTimeout(() => p.remove(), 1000);
            }
        }
        
        /* å›è½¦å¿«æ·ç”Ÿæˆ */
        document.addEventListener('keypress', e => { if (e.key === 'Enter') generateMeme(); });
    </script>
</body>
</html>